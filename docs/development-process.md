# Digital Human Platform - å¼€å‘æµç¨‹æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®å¼€å‘æµç¨‹

### 1. éœ€æ±‚åˆ†æé˜¶æ®µ

#### 1.1 ä¸šåŠ¡éœ€æ±‚æ”¶é›†
- âœ… 3Dæ•°å­—äººå»ºæ¨¡ä¸æ¸²æŸ“éœ€æ±‚
- âœ… è¯­éŸ³äº¤äº’åŠŸèƒ½éœ€æ±‚  
- âœ… è¡Œä¸ºæ§åˆ¶ç³»ç»Ÿéœ€æ±‚
- âœ… å¤šå¹³å°éƒ¨ç½²éœ€æ±‚
- âœ… æ€§èƒ½ä¼˜åŒ–éœ€æ±‚

#### 1.2 æŠ€æœ¯éœ€æ±‚åˆ†æ
- âœ… WebGLå…¼å®¹æ€§åˆ†æ
- âœ… æµè§ˆå™¨è¯­éŸ³APIæ”¯æŒåˆ†æ
- âœ… ç§»åŠ¨ç«¯é€‚é…éœ€æ±‚
- âœ… æ€§èƒ½æŒ‡æ ‡å®šä¹‰

### 2. æŠ€æœ¯æ¶æ„è®¾è®¡é˜¶æ®µ

#### 2.1 æŠ€æœ¯é€‰å‹
```
å‰ç«¯æ¡†æ¶: React 18 + TypeScript
3Dæ¸²æŸ“: Three.js + React Three Fiber
çŠ¶æ€ç®¡ç†: Zustand
UIç»„ä»¶: Tailwind CSS + Lucide React
æ„å»ºå·¥å…·: Vite
éƒ¨ç½²å¹³å°: Vercel
```

#### 2.2 æ¶æ„è®¾è®¡
- âœ… ç»„ä»¶åŒ–æ¶æ„è®¾è®¡
- âœ… çŠ¶æ€ç®¡ç†æ¶æ„
- âœ… 3Dæ¸²æŸ“æ¶æ„
- âœ… è¯­éŸ³æœåŠ¡æ¶æ„
- âœ… å¤šå¹³å°é€‚é…æ¶æ„

### 3. æ ¸å¿ƒåŠŸèƒ½å¼€å‘é˜¶æ®µ

#### 3.1 3Dæ¸²æŸ“ç³»ç»Ÿå¼€å‘
```
é‡Œç¨‹ç¢‘1: åŸºç¡€3Dåœºæ™¯æ­å»º
- å®Œæˆæ—¶é—´: 2å¤©
- äº¤ä»˜ç‰©: DigitalHumanViewerç»„ä»¶
- åŠŸèƒ½: 3Dæ¨¡å‹åŠ è½½ã€åŸºç¡€æ¸²æŸ“ã€ç”¨æˆ·äº¤äº’

é‡Œç¨‹ç¢‘2: æ¨¡å‹ä¼˜åŒ–ä¸åŠ¨ç”»
- å®Œæˆæ—¶é—´: 3å¤©
- äº¤ä»˜ç‰©: åŠ¨ç”»ç³»ç»Ÿã€LODä¼˜åŒ–ã€æ€§èƒ½ç›‘æ§
- åŠŸèƒ½: æµç•…åŠ¨ç”»ã€æ€§èƒ½ä¼˜åŒ–ã€é”™è¯¯å¤„ç†
```

#### 3.2 è¯­éŸ³äº¤äº’ç³»ç»Ÿå¼€å‘
```
é‡Œç¨‹ç¢‘3: TTSè¯­éŸ³åˆæˆ
- å®Œæˆæ—¶é—´: 2å¤©
- äº¤ä»˜ç‰©: TTSServiceç±»ã€è¯­éŸ³æ§åˆ¶é¢æ¿
- åŠŸèƒ½: å¤šè¯­è¨€æ”¯æŒã€å‚æ•°è°ƒèŠ‚ã€è¯­éŸ³ç¼“å­˜

é‡Œç¨‹ç¢‘4: ASRè¯­éŸ³è¯†åˆ«
- å®Œæˆæ—¶é—´: 2å¤©
- äº¤ä»˜ç‰©: ASRServiceç±»ã€è¯­éŸ³å‘½ä»¤å¤„ç†
- åŠŸèƒ½: å®æ—¶è¯†åˆ«ã€å‘½ä»¤è§£æã€é”™è¯¯å¤„ç†
```

#### 3.3 è¡Œä¸ºæ§åˆ¶ç³»ç»Ÿå¼€å‘
```
é‡Œç¨‹ç¢‘5: è¡¨æƒ…æ§åˆ¶ç³»ç»Ÿ
- å®Œæˆæ—¶é—´: 2å¤©
- äº¤ä»˜ç‰©: è¡¨æƒ…æ§åˆ¶é¢æ¿ã€è¡¨æƒ…çŠ¶æ€ç®¡ç†
- åŠŸèƒ½: å¤šè¡¨æƒ…æ”¯æŒã€å¼ºåº¦æ§åˆ¶ã€å®æ—¶åˆ‡æ¢

é‡Œç¨‹ç¢‘6: AIè¡Œä¸ºå†³ç­–
- å®Œæˆæ—¶é—´: 3å¤©
- äº¤ä»˜ç‰©: è¡Œä¸ºæ§åˆ¶é¢æ¿ã€è‡ªåŠ¨å†³ç­–ç³»ç»Ÿ
- åŠŸèƒ½: çŠ¶æ€æœºã€è‡ªåŠ¨æ¨¡å¼ã€è¡Œä¸ºåºåˆ—
```

### 4. é›†æˆä¸æµ‹è¯•é˜¶æ®µ

#### 4.1 ç³»ç»Ÿé›†æˆ
```
é‡Œç¨‹ç¢‘7: æ ¸å¿ƒåŠŸèƒ½é›†æˆ
- å®Œæˆæ—¶é—´: 2å¤©
- äº¤ä»˜ç‰©: å®Œæ•´äº¤äº’é¡µé¢ã€çŠ¶æ€åŒæ­¥
- åŠŸèƒ½: å„æ¨¡å—ååŒå·¥ä½œã€æ•°æ®æµæ•´åˆ

é‡Œç¨‹ç¢‘8: ç”¨æˆ·ç•Œé¢ä¼˜åŒ–
- å®Œæˆæ—¶é—´: 2å¤©
- äº¤ä»˜ç‰©: å“åº”å¼UIã€äº¤äº’ä¼˜åŒ–
- åŠŸèƒ½: å¤šè®¾å¤‡é€‚é…ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–
```

#### 4.2 æµ‹è¯•éªŒè¯
```
å•å…ƒæµ‹è¯•è¦†ç›–:
- ç»„ä»¶æµ‹è¯•: 85%+
- æœåŠ¡æµ‹è¯•: 90%+
- å·¥å…·å‡½æ•°: 95%+

é›†æˆæµ‹è¯•:
- APIé›†æˆæµ‹è¯•: 100%
- ç«¯åˆ°ç«¯æµ‹è¯•: å…³é”®è·¯å¾„è¦†ç›–
- æ€§èƒ½æµ‹è¯•: è¾¾æ ‡éªŒè¯
```

### 5. éƒ¨ç½²ä¸ä¼˜åŒ–é˜¶æ®µ

#### 5.1 å¤šå¹³å°éƒ¨ç½²
```
é‡Œç¨‹ç¢‘9: éƒ¨ç½²é…ç½®
- å®Œæˆæ—¶é—´: 1å¤©
- äº¤ä»˜ç‰©: Vercelé…ç½®ã€CI/CDæµç¨‹
- åŠŸèƒ½: è‡ªåŠ¨éƒ¨ç½²ã€å¤šç¯å¢ƒæ”¯æŒ

é‡Œç¨‹ç¢‘10: æ€§èƒ½ä¼˜åŒ–
- å®Œæˆæ—¶é—´: 3å¤©
- äº¤ä»˜ç‰©: æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆã€ç›‘æ§ä½“ç³»
- åŠŸèƒ½: åŠ è½½ä¼˜åŒ–ã€è¿è¡Œæ—¶ä¼˜åŒ–ã€ç›‘æ§å‘Šè­¦
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒé…ç½®

### å¼€å‘å·¥å…·
```bash
# å¿…éœ€å·¥å…·
Node.js >= 18.0.0
npm >= 9.0.0
Git
VS Code (æ¨è)

# æ¨èæ’ä»¶
ESLint
Prettier
Tailwind CSS IntelliSense
TypeScript Vue Plugin
```

### ç¯å¢ƒé…ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd digital-human-platform

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è¿è¡Œæµ‹è¯•
npm run test

# æ„å»ºé¡¹ç›®
npm run build
```

## ğŸ“ é¡¹ç›®ç»“æ„è§„èŒƒ

### ç›®å½•ç»“æ„
```
digital-human-platform/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ components/              # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DigitalHumanViewer.tsx    # 3DæŸ¥çœ‹å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ControlPanel.tsx          # æ§åˆ¶é¢æ¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ VoiceInteractionPanel.tsx # è¯­éŸ³äº¤äº’ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ExpressionControlPanel.tsx # è¡¨æƒ…æ§åˆ¶ç»„ä»¶
â”‚   â”‚   â””â”€â”€ BehaviorControlPanel.tsx   # è¡Œä¸ºæ§åˆ¶ç»„ä»¶
â”‚   â”œâ”€â”€ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DigitalHumanPage.tsx      # åŸºç¡€é¡µé¢
â”‚   â”‚   â””â”€â”€ AdvancedDigitalHumanPage.tsx # é«˜çº§é¡µé¢
â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ digitalHumanStore.ts      # æ•°å­—äººçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ types/                   # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ models/                  # 3Dæ¨¡å‹æ–‡ä»¶
â”‚   â”œâ”€â”€ textures/                # çº¹ç†è´´å›¾
â”‚   â””â”€â”€ assets/                  # å…¶ä»–èµ„æº
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                     # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ guides/                  # ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ performance-optimization.md # æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£
â”œâ”€â”€ tests/                       # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ e2e/                     # ç«¯åˆ°ç«¯æµ‹è¯•
â””â”€â”€ .trae/documents/             # Trae AIæ–‡æ¡£
    â”œâ”€â”€ digital-human-prd.md     # äº§å“éœ€æ±‚æ–‡æ¡£
    â””â”€â”€ digital-human-technical-architecture.md # æŠ€æœ¯æ¶æ„æ–‡æ¡£
```

### å‘½åè§„èŒƒ
```typescript
// ç»„ä»¶å‘½å: PascalCase
DigitalHumanViewer.tsx
ControlPanel.tsx

// å‡½æ•°å‘½å: camelCase
const handlePlayPause = () => {}
const processVoiceCommand = () => {}

// å¸¸é‡å‘½å: UPPER_SNAKE_CASE
const MAX_ANIMATIONS = 10
const DEFAULT_VOLUME = 0.8

// æ¥å£å‘½å: PascalCase + Iå‰ç¼€
interface IDigitalHumanProps {}
interface IVoiceService {}

// æšä¸¾å‘½å: PascalCase + Enumåç¼€
enum ExpressionTypeEnum {}
enum BehaviorStateEnum {}
```

## ğŸ”§ ç¼–ç è§„èŒƒ

### TypeScriptè§„èŒƒ
```typescript
// ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
"strict": true,
"noImplicitAny": true,
"strictNullChecks": true,

// ç»„ä»¶Propså®šä¹‰
interface DigitalHumanViewerProps {
  modelUrl?: string;
  autoRotate?: boolean;
  showControls?: boolean;
  onModelLoad?: (model: any) => void;
}

// å‡½æ•°è¿”å›ç±»å‹
function calculateDistance(point1: Vector3, point2: Vector3): number {
  return Math.sqrt(
    Math.pow(point2.x - point1.x, 2) +
    Math.pow(point2.y - point1.y, 2) +
    Math.pow(point2.z - point1.z, 2)
  );
}
```

### Reactè§„èŒƒ
```typescript
// ä½¿ç”¨å‡½æ•°ç»„ä»¶
const DigitalHumanViewer: React.FC<DigitalHumanViewerProps> = ({
  modelUrl,
  autoRotate = false,
  showControls = true,
  onModelLoad
}) => {
  // ä½¿ç”¨Hooks
  const meshRef = useRef<THREE.Group>(null);
  const { scene } = useThree();
  
  // ä½¿ç”¨useEffectå¤„ç†å‰¯ä½œç”¨
  useEffect(() => {
    // åˆå§‹åŒ–é€»è¾‘
    return () => {
      // æ¸…ç†é€»è¾‘
    };
  }, [dependencies]);
  
  return (
    // JSXä»£ç 
  );
};

// è‡ªå®šä¹‰Hookå‘½å: useå‰ç¼€
function useDigitalHuman() {
  const store = useDigitalHumanStore();
  return store;
}
```

### CSSè§„èŒƒ
```css
/* ä½¿ç”¨Tailwind CSSç±»å */
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow-md">
  <h3 className="text-lg font-semibold text-gray-800">æ ‡é¢˜</h3>
  <button className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
    æŒ‰é’®
  </button>
</div>

/* é¿å…å†…è”æ ·å¼ */
/* é¿å…ä½¿ç”¨!important */
/* ä½¿ç”¨å“åº”å¼è®¾è®¡ */
```

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### æµ‹è¯•ç­–ç•¥
```typescript
// å•å…ƒæµ‹è¯•
describe('DigitalHumanViewer', () => {
  it('renders without crashing', () => {
    render(<DigitalHumanViewer />);
    expect(screen.getByTestId('canvas')).toBeInTheDocument();
  });
  
  it('handles props correctly', () => {
    const onModelLoad = jest.fn();
    render(<DigitalHumanViewer onModelLoad={onModelLoad} />);
    expect(onModelLoad).toBeDefined();
  });
});

// é›†æˆæµ‹è¯•
describe('Voice Interaction Integration', () => {
  it('integrates TTS and ASR services', async () => {
    const { getByText } = render(<VoiceInteractionPanel />);
    
    // æµ‹è¯•è¯­éŸ³åˆæˆ
    const speakButton = getByText('æµ‹è¯•è¯­éŸ³');
    fireEvent.click(speakButton);
    
    // éªŒè¯è¯­éŸ³æ’­æ”¾
    await waitFor(() => {
      expect(mockSpeechSynthesis.speak).toHaveBeenCalled();
    });
  });
});
```

### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
```
è¯­å¥è¦†ç›–ç‡: 80%+
åˆ†æ”¯è¦†ç›–ç‡: 75%+
å‡½æ•°è¦†ç›–ç‡: 85%+
è¡Œè¦†ç›–ç‡: 80%+
```

## ğŸ“Š æ€§èƒ½åŸºå‡†

### æ€§èƒ½æŒ‡æ ‡
```
é¦–æ¬¡åŠ è½½æ—¶é—´: < 3ç§’
3Dæ¸²æŸ“å¸§ç‡: 60 FPS
è¯­éŸ³å“åº”å»¶è¿Ÿ: < 500ms
å†…å­˜å ç”¨: < 200MB
CPUä½¿ç”¨ç‡: < 30%
```

### æ€§èƒ½ç›‘æ§
```typescript
// æ€§èƒ½ç›‘æ§Hook
function usePerformanceMonitor() {
  useEffect(() => {
    const observer = new PerformanceObserver((list) => {
      for (const entry of list.getEntries()) {
        console.log(`${entry.name}: ${entry.duration}ms`);
      }
    });
    
    observer.observe({ entryTypes: ['measure', 'navigation'] });
    
    return () => observer.disconnect();
  }, []);
}
```

## ğŸš€ éƒ¨ç½²æµç¨‹

### å¼€å‘ç¯å¢ƒéƒ¨ç½²
```bash
# æœ¬åœ°å¼€å‘
npm run dev

# æœ¬åœ°æµ‹è¯•
npm run test
npm run test:coverage

# æœ¬åœ°æ„å»º
npm run build
npm run preview
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# éƒ¨ç½²åˆ°Vercel
npm run deploy

# éªŒè¯éƒ¨ç½²
npm run deploy:verify
```

### å¤šå¹³å°æ„å»º
```bash
# Webå¹³å°
npm run build

# ç§»åŠ¨ç«¯ä¼˜åŒ–ç‰ˆæœ¬
npm run build:mobile

# æ¡Œé¢ç«¯ç‰ˆæœ¬
npm run build:desktop

# AR/VRç‰ˆæœ¬
npm run build:ar
```

## ğŸ“ˆ æŒç»­æ”¹è¿›

### ä»£ç å®¡æŸ¥æµç¨‹
1. **è‡ªå®¡**: å¼€å‘è€…è‡ªè¡Œæ£€æŸ¥ä»£ç 
2. **åŒä¼´å®¡æŸ¥**: åŒäº‹è¿›è¡Œä»£ç å®¡æŸ¥
3. **è‡ªåŠ¨åŒ–æ£€æŸ¥**: ESLintã€TypeScriptæ£€æŸ¥
4. **æµ‹è¯•éªŒè¯**: ç¡®ä¿æµ‹è¯•é€šè¿‡
5. **æ€§èƒ½éªŒè¯**: æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

### å®šæœŸä¼˜åŒ–
- æ¯å‘¨ä»£ç è´¨é‡æ£€æŸ¥
- æ¯æœˆæ€§èƒ½è¯„ä¼°
- å­£åº¦æ¶æ„è¯„å®¡
- å¹´åº¦æŠ€æœ¯æ ˆå‡çº§

### ç”¨æˆ·åé¦ˆæ”¶é›†
- ç”¨æˆ·ä½“éªŒè°ƒç ”
- æ€§èƒ½ç›‘æ§æ•°æ®åˆ†æ
- åŠŸèƒ½ä½¿ç”¨ç»Ÿè®¡
- é”™è¯¯æ—¥å¿—åˆ†æ

é€šè¿‡ä¸¥æ ¼æ‰§è¡Œä»¥ä¸Šå¼€å‘æµç¨‹ï¼Œç¡®ä¿æ•°å­—äººå¹³å°çš„é«˜è´¨é‡äº¤ä»˜å’ŒæŒç»­æ”¹è¿›ã€‚